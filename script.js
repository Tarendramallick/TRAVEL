document.addEventListener("DOMContentLoaded", function () {

    const filterItems = document.querySelectorAll("#yearFilter li");
    const cards = document.querySelectorAll(".msg-card");

    filterItems.forEach(item => {
        item.addEventListener("click", () => {

            // active class toggle
            filterItems.forEach(li => li.classList.remove("active"));
            item.classList.add("active");

            const selectedYear = item.getAttribute("data-year");

            cards.forEach(card => {
                const cardYear = card.getAttribute("data-year");

                if (selectedYear === "all" || cardYear === selectedYear) {
                    card.style.display = "block";   // ✅ IMPORTANT
                } else {
                    card.style.display = "none";
                }
            });
        });
    });

});
const cards = document.querySelectorAll(".msg-card");
const grid = document.querySelector(".grid");
const detail = document.getElementById("msg-detail");
const backBtn = document.getElementById("backBtn");

// Dummy content map (later you can replace with DB)
const messageData = {
    1: {
        title: "海外旅行が好きで、詳しくなってしまった。それが旅行会社を始めた理由です。",
        text: "きっかけは、渡航先の中国で人生を変えるほどの経験をしたからでした。\nなんとなく、街中の市場へ行くと、雑貨屋さんが沢山列を成しています。ふと、パンダのぬいぐるみに気を惹かれて、立ち止まると「200元」と声がかかります。「高いので、要らない」とジェスチャーをして、去ろうとしたところ、腕を掴まれ、「買って買って」「要らない、要らない」という押し問答がしばし続きます。すると、店員から100元にするからと提案がありました。それでも私は要らないと言うと、「いくらだったら良いの？」電卓を持ち出してきます。\n私は、30元ならば良いよ。\n80元は？60元は？50元は？と食いついてきたので、\n50元なら良い！と購入しました。\n\nこの時に人生を変えるほどの衝撃が走ります。\n店員は満面の笑みなのです。\n日本だと、値下げすることもありませんが、仮に値下げして購入したとしたら、不満げな顔になることでしょう。それが、飛び跳ねるほどの笑みを浮かべていたのです。価値観の違いを良い意味で感じることができ、自分の考え方を根底から変える出来事でした。\n\nその後、海外旅行に陶酔し、余裕があれば海外渡航を繰り返しています。\n旅行先で楽しいのはもちろん、旅行前に調べて計画することが好きだということにも気づきました。\n私の場合はとにかく短く効率良く行くのが好きです。2日間が基本。\nフライトスケジュールやホテルは全て調べあげます。その次に金額を調べるには、マイルやExpediaなどあらゆるパターンを調べてから最適な方法を見つけ出します。\n例えば、\n●米国版のExpediaだと日本で早割が切れても、次の日までは出てくるな。\n●ANAの公式サイトでは取れない特典航空券も、シンガポール航空のサイト経由だと取れるな。\nなど、全てここで語るのは困難なほど、こんなことをたくさん見つけて、密かな喜びを感じています。\n\nこのように裏事情はどうなっているのかなと深掘りしていったら、旅行会社を経営することになりました。\n当社は、それを踏まえ、お客様のご希望に合わせて、ご一緒に旅をつくり上げることに熱意を注いでいます。",
        img: "images/msg1.png",
        date: "2025.10.10",
        label: "MESSAGE. 2"
    },
    2: {
        title: "海外旅行が好きで、詳しくなってしまった。",
        text: "きっかけは、渡航先の中国で人生を変えるほどの経験をしたからでした。\nなんとなく、街中の市場へ行くと、雑貨屋さんが沢山列を成しています。ふと、パンダのぬいぐるみに気を惹かれて、立ち止まると「200元」と声がかかります。「高いので、要らない」とジェスチャーをして、去ろうとしたところ、腕を掴まれ、「買って買って」「要らない、要らない」という押し問答がしばし続きます。すると、店員から100元にするからと提案がありました。それでも私は要らないと言うと、「いくらだったら良いの？」電卓を持ち出してきます。\n私は、30元ならば良いよ。\n80元は？60元は？50元は？と食いついてきたので、\n50元なら良い！と購入しました。\n\nこの時に人生を変えるほどの衝撃が走ります。\n店員は満面の笑みなのです。\n日本だと、値下げすることもありませんが、仮に値下げして購入したとしたら、不満げな顔になることでしょう。それが、飛び跳ねるほどの笑みを浮かべていたのです。価値観の違いを良い意味で感じることができ、自分の考え方を根底から変える出来事でした。\n\nその後、海外旅行に陶酔し、余裕があれば海外渡航を繰り返しています。\n旅行先で楽しいのはもちろん、旅行前に調べて計画することが好きだということにも気づきました。\n私の場合はとにかく短く効率良く行くのが好きです。2日間が基本。\nフライトスケジュールやホテルは全て調べあげます。その次に金額を調べるには、マイルやExpediaなどあらゆるパターンを調べてから最適な方法を見つけ出します。\n例えば、\n●米国版のExpediaだと日本で早割が切れても、次の日までは出てくるな。\n●ANAの公式サイトでは取れない特典航空券も、シンガポール航空のサイト経由だと取れるな。\nなど、全てここで語るのは困難なほど、こんなことをたくさん見つけて、密かな喜びを感じています。\n\nこのように裏事情はどうなっているのかなと深掘りしていったら、旅行会社を経営することになりました。\n当社は、それを踏まえ、お客様のご希望に合わせて、ご一緒に旅をつくり上げることに熱意を注いでいます。",
        img: "images/msg1.png",
        date: "2025.10.10",
        label: "MESSAGE. 2"
    },
    3: {
        title: "海外旅行が好きで、詳しくなってしまった。",
        text: "きっかけは、渡航先の中国で人生を変えるほどの経験をしたからでした。\nなんとなく、街中の市場へ行くと、雑貨屋さんが沢山列を成しています。ふと、パンダのぬいぐるみに気を惹かれて、立ち止まると「200元」と声がかかります。「高いので、要らない」とジェスチャーをして、去ろうとしたところ、腕を掴まれ、「買って買って」「要らない、要らない」という押し問答がしばし続きます。すると、店員から100元にするからと提案がありました。それでも私は要らないと言うと、「いくらだったら良いの？」電卓を持ち出してきます。\n私は、30元ならば良いよ。\n80元は？60元は？50元は？と食いついてきたので、\n50元なら良い！と購入しました。\n\nこの時に人生を変えるほどの衝撃が走ります。\n店員は満面の笑みなのです。\n日本だと、値下げすることもありませんが、仮に値下げして購入したとしたら、不満げな顔になることでしょう。それが、飛び跳ねるほどの笑みを浮かべていたのです。価値観の違いを良い意味で感じることができ、自分の考え方を根底から変える出来事でした。\n\nその後、海外旅行に陶酔し、余裕があれば海外渡航を繰り返しています。\n旅行先で楽しいのはもちろん、旅行前に調べて計画することが好きだということにも気づきました。\n私の場合はとにかく短く効率良く行くのが好きです。2日間が基本。\nフライトスケジュールやホテルは全て調べあげます。その次に金額を調べるには、マイルやExpediaなどあらゆるパターンを調べてから最適な方法を見つけ出します。\n例えば、\n●米国版のExpediaだと日本で早割が切れても、次の日までは出てくるな。\n●ANAの公式サイトでは取れない特典航空券も、シンガポール航空のサイト経由だと取れるな。\nなど、全てここで語るのは困難なほど、こんなことをたくさん見つけて、密かな喜びを感じています。\n\nこのように裏事情はどうなっているのかなと深掘りしていったら、旅行会社を経営することになりました。\n当社は、それを踏まえ、お客様のご希望に合わせて、ご一緒に旅をつくり上げることに熱意を注いでいます。",
        img: "images/msg1.png",
        date: "2025.10.10",
        label: "MESSAGE. 2"
    },
    4: {
        title: "海外旅行が好きで、詳しくなってしまった。",
        text: "きっかけは、渡航先の中国で人生を変えるほどの経験をしたからでした。\nなんとなく、街中の市場へ行くと、雑貨屋さんが沢山列を成しています。ふと、パンダのぬいぐるみに気を惹かれて、立ち止まると「200元」と声がかかります。「高いので、要らない」とジェスチャーをして、去ろうとしたところ、腕を掴まれ、「買って買って」「要らない、要らない」という押し問答がしばし続きます。すると、店員から100元にするからと提案がありました。それでも私は要らないと言うと、「いくらだったら良いの？」電卓を持ち出してきます。\n私は、30元ならば良いよ。\n80元は？60元は？50元は？と食いついてきたので、\n50元なら良い！と購入しました。\n\nこの時に人生を変えるほどの衝撃が走ります。\n店員は満面の笑みなのです。\n日本だと、値下げすることもありませんが、仮に値下げして購入したとしたら、不満げな顔になることでしょう。それが、飛び跳ねるほどの笑みを浮かべていたのです。価値観の違いを良い意味で感じることができ、自分の考え方を根底から変える出来事でした。\n\nその後、海外旅行に陶酔し、余裕があれば海外渡航を繰り返しています。\n旅行先で楽しいのはもちろん、旅行前に調べて計画することが好きだということにも気づきました。\n私の場合はとにかく短く効率良く行くのが好きです。2日間が基本。\nフライトスケジュールやホテルは全て調べあげます。その次に金額を調べるには、マイルやExpediaなどあらゆるパターンを調べてから最適な方法を見つけ出します。\n例えば、\n●米国版のExpediaだと日本で早割が切れても、次の日までは出てくるな。\n●ANAの公式サイトでは取れない特典航空券も、シンガポール航空のサイト経由だと取れるな。\nなど、全てここで語るのは困難なほど、こんなことをたくさん見つけて、密かな喜びを感じています。\n\nこのように裏事情はどうなっているのかなと深掘りしていったら、旅行会社を経営することになりました。\n当社は、それを踏まえ、お客様のご希望に合わせて、ご一緒に旅をつくり上げることに熱意を注いでいます。",
        img: "images/msg1.png",
        date: "2025.10.10",
        label: "MESSAGE. 2"
    },
    5: {
        title: "海外旅行が好きで、詳しくなってしまった。",
        text: "きっかけは、渡航先の中国で人生を変えるほどの経験をしたからでした。\nなんとなく、街中の市場へ行くと、雑貨屋さんが沢山列を成しています。ふと、パンダのぬいぐるみに気を惹かれて、立ち止まると「200元」と声がかかります。「高いので、要らない」とジェスチャーをして、去ろうとしたところ、腕を掴まれ、「買って買って」「要らない、要らない」という押し問答がしばし続きます。すると、店員から100元にするからと提案がありました。それでも私は要らないと言うと、「いくらだったら良いの？」電卓を持ち出してきます。\n私は、30元ならば良いよ。\n80元は？60元は？50元は？と食いついてきたので、\n50元なら良い！と購入しました。\n\nこの時に人生を変えるほどの衝撃が走ります。\n店員は満面の笑みなのです。\n日本だと、値下げすることもありませんが、仮に値下げして購入したとしたら、不満げな顔になることでしょう。それが、飛び跳ねるほどの笑みを浮かべていたのです。価値観の違いを良い意味で感じることができ、自分の考え方を根底から変える出来事でした。\n\nその後、海外旅行に陶酔し、余裕があれば海外渡航を繰り返しています。\n旅行先で楽しいのはもちろん、旅行前に調べて計画することが好きだということにも気づきました。\n私の場合はとにかく短く効率良く行くのが好きです。2日間が基本。\nフライトスケジュールやホテルは全て調べあげます。その次に金額を調べるには、マイルやExpediaなどあらゆるパターンを調べてから最適な方法を見つけ出します。\n例えば、\n●米国版のExpediaだと日本で早割が切れても、次の日までは出てくるな。\n●ANAの公式サイトでは取れない特典航空券も、シンガポール航空のサイト経由だと取れるな。\nなど、全てここで語るのは困難なほど、こんなことをたくさん見つけて、密かな喜びを感じています。\n\nこのように裏事情はどうなっているのかなと深掘りしていったら、旅行会社を経営することになりました。\n当社は、それを踏まえ、お客様のご希望に合わせて、ご一緒に旅をつくり上げることに熱意を注いでいます。",
        img: "images/msg1.png",
        date: "2025.10.10",
        label: "MESSAGE. 2"
    },
    6: {
        title: "海外旅行が好きで、詳しくなってしまった。",
        text: "きっかけは、渡航先の中国で人生を変えるほどの経験をしたからでした。\nなんとなく、街中の市場へ行くと、雑貨屋さんが沢山列を成しています。ふと、パンダのぬいぐるみに気を惹かれて、立ち止まると「200元」と声がかかります。「高いので、要らない」とジェスチャーをして、去ろうとしたところ、腕を掴まれ、「買って買って」「要らない、要らない」という押し問答がしばし続きます。すると、店員から100元にするからと提案がありました。それでも私は要らないと言うと、「いくらだったら良いの？」電卓を持ち出してきます。\n私は、30元ならば良いよ。\n80元は？60元は？50元は？と食いついてきたので、\n50元なら良い！と購入しました。\n\nこの時に人生を変えるほどの衝撃が走ります。\n店員は満面の笑みなのです。\n日本だと、値下げすることもありませんが、仮に値下げして購入したとしたら、不満げな顔になることでしょう。それが、飛び跳ねるほどの笑みを浮かべていたのです。価値観の違いを良い意味で感じることができ、自分の考え方を根底から変える出来事でした。\n\nその後、海外旅行に陶酔し、余裕があれば海外渡航を繰り返しています。\n旅行先で楽しいのはもちろん、旅行前に調べて計画することが好きだということにも気づきました。\n私の場合はとにかく短く効率良く行くのが好きです。2日間が基本。\nフライトスケジュールやホテルは全て調べあげます。その次に金額を調べるには、マイルやExpediaなどあらゆるパターンを調べてから最適な方法を見つけ出します。\n例えば、\n●米国版のExpediaだと日本で早割が切れても、次の日までは出てくるな。\n●ANAの公式サイトでは取れない特典航空券も、シンガポール航空のサイト経由だと取れるな。\nなど、全てここで語るのは困難なほど、こんなことをたくさん見つけて、密かな喜びを感じています。\n\nこのように裏事情はどうなっているのかなと深掘りしていったら、旅行会社を経営することになりました。\n当社は、それを踏まえ、お客様のご希望に合わせて、ご一緒に旅をつくり上げることに熱意を注いでいます。",
        img: "images/msg1.png",
        date: "2025.10.10",
        label: "MESSAGE. 2"
    },
    7: {
        title: "海外旅行が好きで、詳しくなってしまった。",
        text: "きっかけは、渡航先の中国で人生を変えるほどの経験をしたからでした。\nなんとなく、街中の市場へ行くと、雑貨屋さんが沢山列を成しています。ふと、パンダのぬいぐるみに気を惹かれて、立ち止まると「200元」と声がかかります。「高いので、要らない」とジェスチャーをして、去ろうとしたところ、腕を掴まれ、「買って買って」「要らない、要らない」という押し問答がしばし続きます。すると、店員から100元にするからと提案がありました。それでも私は要らないと言うと、「いくらだったら良いの？」電卓を持ち出してきます。\n私は、30元ならば良いよ。\n80元は？60元は？50元は？と食いついてきたので、\n50元なら良い！と購入しました。\n\nこの時に人生を変えるほどの衝撃が走ります。\n店員は満面の笑みなのです。\n日本だと、値下げすることもありませんが、仮に値下げして購入したとしたら、不満げな顔になることでしょう。それが、飛び跳ねるほどの笑みを浮かべていたのです。価値観の違いを良い意味で感じることができ、自分の考え方を根底から変える出来事でした。\n\nその後、海外旅行に陶酔し、余裕があれば海外渡航を繰り返しています。\n旅行先で楽しいのはもちろん、旅行前に調べて計画することが好きだということにも気づきました。\n私の場合はとにかく短く効率良く行くのが好きです。2日間が基本。\nフライトスケジュールやホテルは全て調べあげます。その次に金額を調べるには、マイルやExpediaなどあらゆるパターンを調べてから最適な方法を見つけ出します。\n例えば、\n●米国版のExpediaだと日本で早割が切れても、次の日までは出てくるな。\n●ANAの公式サイトでは取れない特典航空券も、シンガポール航空のサイト経由だと取れるな。\nなど、全てここで語るのは困難なほど、こんなことをたくさん見つけて、密かな喜びを感じています。\n\nこのように裏事情はどうなっているのかなと深掘りしていったら、旅行会社を経営することになりました。\n当社は、それを踏まえ、お客様のご希望に合わせて、ご一緒に旅をつくり上げることに熱意を注いでいます。",
        img: "images/msg1.png",
        date: "2025.10.10",
        label: "MESSAGE. 2"
    },
    8: {
        title: "海外旅行が好きで、詳しくなってしまった。",
        text: "きっかけは、渡航先の中国で人生を変えるほどの経験をしたからでした。\nなんとなく、街中の市場へ行くと、雑貨屋さんが沢山列を成しています。ふと、パンダのぬいぐるみに気を惹かれて、立ち止まると「200元」と声がかかります。「高いので、要らない」とジェスチャーをして、去ろうとしたところ、腕を掴まれ、「買って買って」「要らない、要らない」という押し問答がしばし続きます。すると、店員から100元にするからと提案がありました。それでも私は要らないと言うと、「いくらだったら良いの？」電卓を持ち出してきます。\n私は、30元ならば良いよ。\n80元は？60元は？50元は？と食いついてきたので、\n50元なら良い！と購入しました。\n\nこの時に人生を変えるほどの衝撃が走ります。\n店員は満面の笑みなのです。\n日本だと、値下げすることもありませんが、仮に値下げして購入したとしたら、不満げな顔になることでしょう。それが、飛び跳ねるほどの笑みを浮かべていたのです。価値観の違いを良い意味で感じることができ、自分の考え方を根底から変える出来事でした。\n\nその後、海外旅行に陶酔し、余裕があれば海外渡航を繰り返しています。\n旅行先で楽しいのはもちろん、旅行前に調べて計画することが好きだということにも気づきました。\n私の場合はとにかく短く効率良く行くのが好きです。2日間が基本。\nフライトスケジュールやホテルは全て調べあげます。その次に金額を調べるには、マイルやExpediaなどあらゆるパターンを調べてから最適な方法を見つけ出します。\n例えば、\n●米国版のExpediaだと日本で早割が切れても、次の日までは出てくるな。\n●ANAの公式サイトでは取れない特典航空券も、シンガポール航空のサイト経由だと取れるな。\nなど、全てここで語るのは困難なほど、こんなことをたくさん見つけて、密かな喜びを感じています。\n\nこのように裏事情はどうなっているのかなと深掘りしていったら、旅行会社を経営することになりました。\n当社は、それを踏まえ、お客様のご希望に合わせて、ご一緒に旅をつくり上げることに熱意を注いでいます。",
        img: "images/msg1.png",
        date: "2025.10.10",
        label: "MESSAGE. 2"
    },
    9: {
        title: "海外旅行が好きで、詳しくなってしまった。",
        text: "きっかけは、渡航先の中国で人生を変えるほどの経験をしたからでした。\nなんとなく、街中の市場へ行くと、雑貨屋さんが沢山列を成しています。ふと、パンダのぬいぐるみに気を惹かれて、立ち止まると「200元」と声がかかります。「高いので、要らない」とジェスチャーをして、去ろうとしたところ、腕を掴まれ、「買って買って」「要らない、要らない」という押し問答がしばし続きます。すると、店員から100元にするからと提案がありました。それでも私は要らないと言うと、「いくらだったら良いの？」電卓を持ち出してきます。\n私は、30元ならば良いよ。\n80元は？60元は？50元は？と食いついてきたので、\n50元なら良い！と購入しました。\n\nこの時に人生を変えるほどの衝撃が走ります。\n店員は満面の笑みなのです。\n日本だと、値下げすることもありませんが、仮に値下げして購入したとしたら、不満げな顔になることでしょう。それが、飛び跳ねるほどの笑みを浮かべていたのです。価値観の違いを良い意味で感じることができ、自分の考え方を根底から変える出来事でした。\n\nその後、海外旅行に陶酔し、余裕があれば海外渡航を繰り返しています。\n旅行先で楽しいのはもちろん、旅行前に調べて計画することが好きだということにも気づきました。\n私の場合はとにかく短く効率良く行くのが好きです。2日間が基本。\nフライトスケジュールやホテルは全て調べあげます。その次に金額を調べるには、マイルやExpediaなどあらゆるパターンを調べてから最適な方法を見つけ出します。\n例えば、\n●米国版のExpediaだと日本で早割が切れても、次の日までは出てくるな。\n●ANAの公式サイトでは取れない特典航空券も、シンガポール航空のサイト経由だと取れるな。\nなど、全てここで語るのは困難なほど、こんなことをたくさん見つけて、密かな喜びを感じています。\n\nこのように裏事情はどうなっているのかなと深掘りしていったら、旅行会社を経営することになりました。\n当社は、それを踏まえ、お客様のご希望に合わせて、ご一緒に旅をつくり上げることに熱意を注いでいます。",
        img: "images/msg1.png",
        date: "2025.10.10",
        label: "MESSAGE. 2"
    }
};

cards.forEach(card => {
    card.addEventListener("click", () => {
        const id = card.dataset.id;
        const data = messageData[id];

        // Fill detail
        document.getElementById("detail-img").src = data.img;
        document.getElementById("detail-title").textContent = data.title;
        document.getElementById("detail-text").textContent = data.text;
        document.getElementById("detail-date").textContent = data.date;
        document.getElementById("detail-label").textContent = data.label;

        // Toggle view
        grid.style.display = "none";
        detail.style.display = "block";
        window.scrollTo(0, 0);
    });
});

// Back button
backBtn.addEventListener("click", () => {
    detail.style.display = "none";
    grid.style.display = "grid";
});